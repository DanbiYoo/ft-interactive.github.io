doctype html
html(lang="en")
  head
    block head
      title
        block title
          = ' – FT ' + siteTitle
      script(src="https://polyfill.webservices.ft.com/v1/polyfill.min.js?features=default")
      link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css")
      link(rel="stylesheet" href="https://build.origami.ft.com/bundles/css?modules=" + oModules)
      link(rel="stylesheet" href="/main.css")
      link(rel="shortcut icon" href="http://bertha.ig.ft.com/favicon.ico")
  body.o-techdocs
    header.o-header(data-o-component='o-header')
      .o-header__container
        .o-header__inner
          .o-header__primary
            .o-header__primary__left
              a.o-header__logo.o-header__logo--ft(href='/')
                abbr(title='Financial Times') FT
                h1.o-header__title= siteTitle

    .o-techdocs-container
      .o-techdocs-layout
        .o-techdocs-sidebar
          ul.o-techdocs-nav
            li
              span Machine setup guides
              ul.o-techdocs-nav.o-techdocs-nav--sub
                li: a(href='/setup/mac/') Mac OS X
                li: a(href='/setup/windows/') Windows

            li.break-before
              a Developing
              ul.o-techdocs-nav.o-techdocs-nav--sub
                li: a Style guides
                li: a Origami
                li: a Project Starter Kit

            li.break-before
              span Resources
              ul.o-techdocs-nav.o-techdocs-nav--sub
                li: a IG web server
                li: a Bertha
                li: a Github
                li: a Stash

            li.break-before
              a(href='/formats/') Publication formats
              ul.o-techdocs-nav.o-techdocs-nav--sub
                li: a(href='/formats/sites/') Static sites/pages
                li: a(href='/formats/wrappers/') Falcon wrapper pages
                li: a(href='/formats/iframes/') IFrames
                li: a(href='/formats/heroku/') Heroku apps

            li.break-before
              span Software
              ul.o-techdocs-nav.o-techdocs-nav--sub
                each data, name in software
                  li: a(href='/software/' + name + '/')= data.title

        .o-techdocs-main
          block main

    footer.o-techdocs-footer
      .o-techdocs-footer__inner
        p.o-techdocs-footer__secondary
          a(href='http://github.com/ft-interactive') FT Interactive on GitHub
        p
          | © THE FINANCIAL TIMES LTD. FT and 'Financial Times' are trademarks of The Financial Times Ltd.

    script.
      // add aria-selected=true where appropriate
      [].slice.apply(document.querySelectorAll('.o-techdocs-nav a')).forEach(function (el) {
        if (el.getAttribute('href') === window.location.pathname) {
          el.closest('li').setAttribute('aria-selected', 'true');
        }
      });

      // make code snippets starting with '$' nicer
      [].slice.apply(document.querySelectorAll('code.language-sh')).forEach(function (el) {
        if (el.innerHTML.substring(0, 2) === '$ ') {
          el.innerHTML = '<span class="terminal-prompt">$ </span>' + el.innerHTML.substring(2);
        }
      });

    script(src="https://build.origami.ft.com/bundles/js?modules=" + oModules)
